<template>
  <div class="loading-section">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 224 160">
      <rect fill="oklch(var(--neutral))" x="0" y="0" width="100%" height="100%" />
      <g class="is-animated">
        <g>
          <defs>
            <path id="a" d="M0 19h224v141H0z" />
          </defs>
          <clipPath id="b">
            <use xlink:href="#a" overflow="visible" />
          </clipPath>
          <g clip-path="url(#b)">
            <g class="page">
              <path fill="none" stroke="#FFF" d="M14 320.9h190.5" />
              <g>
                <path fill="#FFF"
                  d="M14.9 226.9l1.6-.3c.5 1.4 1.9 2.1 3.8 2.1s2.8-.7 2.8-1.8c0-1.2-1.2-1.5-3.1-1.8-2.1-.4-4.2-.8-4.2-3 0-1.8 1.6-3 4-3 1.9 0 3.3.5 4.3 1.7l-1.1.9c-.8-.9-1.9-1.3-3.4-1.3-1.4 0-2.3.6-2.3 1.6 0 1.1 1.1 1.4 3 1.7 1.9.4 4.3.8 4.3 3.1 0 1.8-1.3 3.2-4.4 3.2-3.2-.1-4.7-1.3-5.3-3.1zM30.4 229.6c-.5.1-.9.2-1.5.2-1.5 0-2.2-.7-2.2-2v-4.5h-1.5v-1h1.5v-2l1.4-.7v2.7h2.2v1h-2.2v4.3c0 .8.3 1.2 1.1 1.2.3 0 .7-.1 1.1-.2l.1 1zM39.5 226.4H33c.1 1.4 1.1 2.2 2.8 2.2 1.1 0 2-.2 2.8-.8l.6 1c-1.1.6-2.1.9-3.4.9-2.6 0-4.3-1.5-4.3-3.8s1.7-3.9 4.1-3.9c2.7 0 4 1.7 4 3.6-.1.3-.1.6-.1.8zm-1.5-1v-.2c0-.9-.8-1.9-2.5-1.9-1.4 0-2.5.8-2.6 2.1H38zM49.9 226c0 2.3-1.8 3.8-4.2 3.8-1.5 0-2.6-.6-3.1-1.6v4.5h-1.4v-10.5h1.4v1.4c.7-1 1.8-1.5 3.1-1.5 2.4.1 4.2 1.6 4.2 3.9zm-1.5 0c0-1.6-1.2-2.7-2.9-2.7s-2.9 1-2.9 2.7c0 1.6 1.2 2.7 2.9 2.7s2.9-1.1 2.9-2.7zM61.7 222.3h1.5v7.4h-1.5v-1.3c-.6 1-1.5 1.4-2.8 1.4-2 0-3.2-1-3.2-3v-4.5h1.4v4.2c0 1.5.8 2.1 2.1 2.1 1.7 0 2.4-1 2.4-2.7v-3.6zM73.8 226c0 2.3-1.8 3.8-4.2 3.8-1.5 0-2.6-.6-3.1-1.6v4.5h-1.4v-10.5h1.4v1.4c.7-1 1.8-1.5 3.1-1.5 2.5.1 4.2 1.6 4.2 3.9zm-1.4 0c0-1.6-1.2-2.7-2.9-2.7s-2.9 1-2.9 2.7c0 1.6 1.2 2.7 2.9 2.7s2.9-1.1 2.9-2.7z" />

                <g>
                  <path fill="none" stroke="#FFF" d="M14 237.2h114.5M14 243.2h114.5M14 249.2h114.5M14 255.2h45.8" />
                  <path fill="none" stroke="#FFF" d="M14 268.2h114.5M14 274.2h114.5M14 280.2h114.5" />
                </g>

                <g>
                  <path stroke="#FFFFFF" d="M15 287.7h33v10H15z" />
                  <path fill="none" stroke="#FFFFFF" d="M27 292.7h10" />
                </g>

                <path fill="oklch(var(--neutral))" stroke="#FFFFFF" d="M166.5 234.9h38V279h-38z" />
              </g>
              <g>
                <path fill="oklch(var(--neutral))" stroke="#FFFFFF" d="M14.5 141.5h38v18h-38z" />
                <path fill="oklch(var(--neutral))" stroke="#FFFFFF" d="M90.5 141.5h38v18h-38z" />
                <path fill="oklch(var(--neutral))" stroke="#FFFFFF" d="M166.5 141.5h38v18h-38z" />
                <path fill="oklch(var(--neutral))" stroke="#FFFFFF" d="M14.5 180.5h38v18h-38z" />
                <path fill="oklch(var(--neutral))" stroke="#FFFFFF" d="M90.5 180.5h38v18h-38z" />
                <path fill="oklch(var(--neutral))" stroke="#FFFFFF" d="M166.5 180.5h38v18h-38z" />
              </g>
              <g>
                <path fill="oklch(var(--neutral))" stroke="#FFFFFF" d="M14.5 64.5h116v65h-116z" />

                <g fill="#FFF">
                  <path
                    d="M144 82V71.5h1.6V76h6.2v-4.5h1.6V82h-1.6v-4.6h-6.2V82H144zM162.8 77.4V82h-1.2l-.2-1.4c-.6 1-1.8 1.5-3.1 1.5-2 0-3.2-.8-3.2-2.3 0-1.5 1.1-2.2 3-2.2h3.2v-.2c0-1.2-.5-1.9-2.2-1.9-1.1 0-2.1.3-3 1l-.5-1c1.1-.7 2.3-1.1 3.7-1.1 2.2.1 3.5 1.1 3.5 3zm-1.6 1.3l-2.8-.1c-1.1 0-1.8.3-1.8 1.2 0 .8.7 1.3 1.8 1.3 1.8 0 2.8-1 2.8-2.4zM172 77.3V82h-1.5v-4.1c0-1.5-.7-2.3-2.1-2.3-1.5 0-2.4.9-2.4 2.7V82h-1.5V71.5h1.5V76c.5-1 1.5-1.5 2.8-1.5 2 0 3.2.9 3.2 2.8zM181.2 77.4V82H180l-.2-1.4c-.6 1-1.8 1.5-3.1 1.5-2 0-3.2-.8-3.2-2.3 0-1.5 1.1-2.2 3-2.2h3.2v-.2c0-1.2-.5-1.9-2.2-1.9-1.1 0-2.1.3-3 1l-.5-1c1.1-.7 2.3-1.1 3.7-1.1 2.2.1 3.5 1.1 3.5 3zm-1.6 1.3l-2.8-.1c-1.1 0-1.8.3-1.8 1.2 0 .8.7 1.3 1.8 1.3 1.8 0 2.8-1 2.8-2.4z" />
                </g>
                <path fill="none" stroke="#FFF" d="M142.5 89.5H205M142.5 95.5H205M142.5 101.5H205M142.5 107.5h25" />
                <path fill="none" stroke="#FFFFFF" d="M143.5 114.5h33v10h-33z" />
                <path fill="none" stroke="#FFFFFF" d="M155.5 119.5h10" />
              </g>
            </g>

            <g class="header">
              <rect fill="oklch(var(--neutral))" x="2" y="21" width="211" height="27"></rect>
              <path class="header__burger" fill="none" stroke="#FFF" d="M198 41.5h7M198 44.5h7M198 47.5h7" />
              <path class="header__title" fill="#FFF"
                d="M17.5 49V33.7h8.6c3 0 4.8 1.4 4.8 3.8 0 1.5-.7 2.7-1.9 3.3 1.8.5 2.7 1.8 2.7 3.9 0 2.8-1.8 4.3-5 4.3h-9.2zm2.3-8.8h6.3c1.5 0 2.4-.9 2.4-2.4s-1-2.4-2.7-2.4h-6v4.8zm0 7.1h6.4c2 0 3.1-.9 3.1-2.7 0-1.7-.9-2.6-2.7-2.6h-6.8v5.3zM33.5 43.6c0-3.4 2.6-5.6 6.4-5.6 3.8 0 6.4 2.2 6.4 5.6 0 3.4-2.7 5.6-6.4 5.6s-6.4-2.2-6.4-5.6zm10.7 0c0-2.4-1.8-3.8-4.3-3.8s-4.3 1.5-4.3 3.8 1.8 3.9 4.3 3.9c2.5-.1 4.3-1.6 4.3-3.9zM59.5 42.1V49h-2.1v-6.1c0-2.2-1.1-3.3-3-3.3-2.2 0-3.6 1.3-3.6 4V49h-2.1V38.2h2.1v2c.7-1.4 2.2-2.2 4.1-2.2 2.8 0 4.6 1.4 4.6 4.1zM60.2 53.4v-1.7c.4.1.8.2 1.1.2.7 0 1.1-.4 1.1-1.4V38.2h2.1V51c0 1.7-.8 2.6-2.4 2.6-.7.1-1.3 0-1.9-.2zM62 36.2v-2.6h2.7v2.6H62zM66.7 43.6c0-3.4 2.6-5.6 6.4-5.6 3.8 0 6.4 2.2 6.4 5.6 0 3.4-2.7 5.6-6.4 5.6s-6.4-2.2-6.4-5.6zm10.8 0c0-2.4-1.8-3.8-4.3-3.8s-4.3 1.5-4.3 3.8 1.8 3.9 4.3 3.9c2.5-.1 4.3-1.6 4.3-3.9zM90.4 38.2h2.1V49h-2.1v-1.8c-.8 1.4-2.3 2-4 2-2.9 0-4.7-1.5-4.7-4.4v-6.6h2.1v6.2c0 2.1 1.1 3.1 3.1 3.1 2.5 0 3.5-1.5 3.5-4v-5.3zM103.6 38.5l-1 1.7c-.4-.2-1.1-.3-1.6-.3-1.8 0-3.5 1-3.5 3.4V49h-2.1V38.2h2.2V40c.8-1.3 2.4-2 3.9-2 .7 0 1.4.1 2.1.5z" />
            </g>
          </g>
        </g>
        <g class="browser">
          <path fill="none" stroke="#FFF" stroke-width="2" d="M1 1h222v19H1z" />
          <path fill="none" stroke="#FFF" stroke-width="2" d="M1 20h222v139H1z" />
          <path fill="none" stroke="#FFF" stroke-width="2" d="M214 20h9v139h-9z" />
          <path class="browser__scrollthumb" fill="#FFFFFF" d="M217 23h3v21h-3z" />
        </g>
      </g>
    </svg>
  </div>
</template>

<script setup>
</script>

<style lang="scss" scoped>
svg {
  @keyframes slide-down {

    0%,
    10% {
      transform: translate3d(0, 0, 0);
    }

    90%,
    100% {
      transform: translate3d(0, 60px, 0);
    }
  }

  .browser__scrollthumb {
    animation: slide-down 3s cubic-bezier(0.65, 0, 0.35, 1) infinite alternate both paused;
  }

  @keyframes scroll {

    0%,
    10% {
      transform: translate3d(0, 0, 0);
    }

    90%,
    100% {
      transform: translate3d(0, -120px, 0);
    }
  }

  .page {
    animation: scroll 3s cubic-bezier(0.65, 0, 0.35, 1) infinite alternate both paused;
  }

  @keyframes scale {

    0%,
    25% {
      transform: scale(1);
    }

    40%,
    100% {
      transform: scale(0.62);
    }
  }

  .header__title {
    animation: scale 3s cubic-bezier(0.65, 0, 0.35, 1) infinite alternate both paused;
    transform-origin: 18px 22px;
  }

  @keyframes move {

    0%,
    25% {
      transform: translate3d(0, 0, 0);
    }

    40%,
    100% {
      transform: translate3d(0, -10px, 0);
    }

  }

  .header__burger {
    animation: move 3s cubic-bezier(0.65, 0, 0.35, 1) infinite alternate both paused;
  }

  .is-animated .browser__scrollthumb,
  .is-animated .page,
  .is-animated .header__title,
  .is-animated .header__burger {
    animation-play-state: running;
  }
}

.loading-section {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  animation: fade-out 1s forwards;
  animation-delay: 1s;
  &::before {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    content: '';
    --bg-opacity: 1;
    background-image:
      linear-gradient(oklch(var(--base-300)/var(--bg-opacity)) 1px, transparent 1px),
      linear-gradient(90deg, oklch(var(--base-300)/var(--bg-opacity)) 1px, oklch(var(--base-100)) 1px);
    background-size: 3rem 6rem;
    // mask: linear-gradient(-20deg, transparent 20%, white);

    /* 固定背景，不隨滾動移動 ps 手機端支援不佳 */
    // background-attachment: fixed;

    @supports not(color: oklch(0% 0 0)) {
      background-image:
        linear-gradient(var(--fallback-b3) 1px, transparent 1px),
        linear-gradient(90deg, var(--fallback-b3) 1px, transparent 1px);
      opacity: .6;
    }
  }
}

svg {
  width: 224px;
  height: 160px;
  z-index: 10;
}

@keyframes fade-out {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
</style>
